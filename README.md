# Implementation-of-a-Modular-Peripheral-Hardware-Library-with-Use-of-a-Wishbone-Bus

This project realized a verified generic implementation of a modular peripheral hardware library with the use of a generic Wishbone Bus system. A Wishbone bus system based on a shared bus architecture has been realised first. The implemented Wishbone bus system supports multiple masters and multiple slaves, synchronous handshake protocol and single write and read cycles as well as the burst mode. The width of the data bus and address bus is configurable, 32 bits, 64 bits, 96 bits and 128 bits of data bus width are supported on the Wishbone bus system. Fixed priority and Round-Robin arbiters are designed for the bus system to meet the requirements of different application cases. A general Wishbone master interface and a Wishbone slave interface module are created. Both interface modules have a standard FIFO interface. Through the standard FIFO interface, the user can add other peripheral modules on the hardware library and does not need to concern the specification of the Wishbone bus, which makes the free expansion of the hardware library possible. Based on the Wishbone bus system, a modular peripheral hardware library is implemented. The hardware library includes the Wishbone compatible UART, I2C, SPI, DMA, PWM, TIMER, and Register modules. All the modules can be operated as a Wishbone slave, among them, the UART and I2C can also act as a master. The Wishbone compatible DMA slave module supports the memory interface with different data and address width. Besides, a bus bridge between the AHB and Wishbone bus is designed for the hardware library. The bus bridge is bidirectional. On the one hand, AHB compatible master and slave modules can be connected to the Wishbone bus system through the bus bridge, and commercial IPs based on the AHB interface are compatible with the hardware library. On the other hand, all the peripheral modules of the hardware library can also be connected to the AHB easily. Moreover, a configuration package for the users of the hardware library is designed. The user can configure the width of the data and address signals, the priority of every master module, the address of every slave module, the size of the address space on the slave modules, the FIFO depth of the Wishbone interface and enable or disable the modules on the hardware library easily by the configuration package.
